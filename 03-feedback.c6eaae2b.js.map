{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,aAGA,MACMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAaF,SAASG,kBAAkB,SAAS,GACjDC,EAAeJ,SAASG,kBAAkB,WAAW,GAErDE,EAAoB,CACxBC,MAAO,GACPC,QAAS,KA4BX,WACE,IAAK,EAAAC,EAAAC,MApCkB,uBAyChB,CACL,MAAMC,GAAkB,EAAAF,EAAAC,MA1CH,uBA2CrBP,EAAWS,MAAQD,EAAgBJ,MACnCF,EAAaO,MAAQD,EAAgBH,QACrCF,EAAkBC,MAAQI,EAAgBJ,MAC1CD,EAAkBE,QAAUG,EAAgBH,aAT5CL,EAAWS,MAAQ,GACnBP,EAAaO,MAAQ,GACrBN,EAAkBC,MAAQ,GAC1BD,EAAkBE,QAAU,GA9BhCK,GAEA,MAAMC,EAAgBC,EAAAjB,GAAEkB,UACtB,KAAM,EAAAP,EAAAQ,MAAK,sBAAuBX,IAClC,KAGFH,EAAWe,iBAAiB,SAASC,IACnCb,EAAkBC,MAAQY,EAAMC,OAAOR,MACvCE,OAGFT,EAAaa,iBAAiB,SAASC,IACrCb,EAAkBE,QAAUW,EAAMC,OAAOR,MACzCE,OAGFd,EAAKkB,iBAAiB,UAAUC,IAC9BA,EAAME,iBACNC,QAAQC,IAAIjB,GAEZN,EAAKwB,SACL,EAAAf,EAAAgB,QAhCuB","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\nimport { save, load, remove } from './storage';\n\nconst LOCALSTORAGE_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\nconst emailInput = document.getElementsByName('email')[0];\nconst messageInput = document.getElementsByName('message')[0];\n\nconst feedbackFormState = {\n  email: '',\n  message: '',\n};\n\nupdateData();\n\nconst throttledSave = _.throttle(\n  () => save('feedback-form-state', feedbackFormState),\n  500\n);\n\nemailInput.addEventListener('input', event => {\n  feedbackFormState.email = event.target.value;\n  throttledSave();\n});\n\nmessageInput.addEventListener('input', event => {\n  feedbackFormState.message = event.target.value;\n  throttledSave();\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  console.log(feedbackFormState);\n\n  form.reset();\n  remove(LOCALSTORAGE_KEY);\n});\n\nfunction updateData() {\n  if (!load(LOCALSTORAGE_KEY)) {\n    emailInput.value = '';\n    messageInput.value = '';\n    feedbackFormState.email = '';\n    feedbackFormState.message = '';\n  } else {\n    const dataFromStorage = load(LOCALSTORAGE_KEY);\n    emailInput.value = dataFromStorage.email;\n    messageInput.value = dataFromStorage.message;\n    feedbackFormState.email = dataFromStorage.email;\n    feedbackFormState.message = dataFromStorage.message;\n  }\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$emailInput","getElementsByName","$945622fd0f572e60$var$messageInput","$945622fd0f572e60$var$feedbackFormState","email","message","$5uEKZ","load","dataFromStorage","value","$945622fd0f572e60$var$updateData","$945622fd0f572e60$var$throttledSave","$parcel$interopDefault","throttle","save","addEventListener","event","target","preventDefault","console","log","reset","remove"],"version":3,"file":"03-feedback.c6eaae2b.js.map"}