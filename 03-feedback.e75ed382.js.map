{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,aAGMC,EAAmB,sBACnBC,EAAOC,SAASC,cAAc,kBAC9BC,EAAaF,SAASG,kBAAkB,SAAS,GACjDC,EAAeJ,SAASG,kBAAkB,WAAW,GAErDE,EAAoB,CACxBC,MAAO,GACPC,QAAS,KA6BX,WACE,IAAK,EAAAC,EAAAC,MAAKX,GAGH,CACL,IAAMY,GAAkB,EAAAF,EAAAC,MAAKX,GAgBRa,EAfLD,EAgBlBR,EAAWU,MAAQD,EAAKL,MACxBF,EAAaQ,MAAQD,EAAKJ,QAG5B,SAA4BI,GAC1BN,EAAkBC,MAAQK,EAAKL,MAC/BD,EAAkBE,QAAUI,EAAKJ,QArB/BM,CAAmBH,QAUrBR,EAAWU,MAAQ,GACnBR,EAAaQ,MAAQ,GAfnBE,IAkBJ,IAAyBH,EA/CzBI,GAEA,IAAMC,EAAgBC,EAAArB,GAAEsB,UACtB,W,OAAM,EAAAV,EAAAW,MAAK,sBAAuBd,KAClC,KAiCF,SAASS,IACPT,EAAkBC,MAAQ,GAC1BD,EAAkBE,QAAU,GAhC9BL,EAAWkB,iBAAiB,SAAS,SAAAC,GACnChB,EAAkBC,MAAQe,EAAMC,OAAOV,MACvCI,OAGFZ,EAAagB,iBAAiB,SAAS,SAAAC,GACrChB,EAAkBE,QAAUc,EAAMC,OAAOV,MACzCI,OAGFjB,EAAKqB,iBAAiB,UAAU,SAAAC,GAC9BA,EAAME,iBACNC,QAAQC,IAAIpB,GAEZN,EAAK2B,SACL,EAAAlB,EAAAmB,QAAO7B,GACPgB,O","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\nimport { save, load, remove } from './storage.js';\n\nconst LOCALSTORAGE_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\nconst emailInput = document.getElementsByName('email')[0];\nconst messageInput = document.getElementsByName('message')[0];\n\nconst feedbackFormState = {\n  email: '',\n  message: '',\n};\n\nupdateData();\n\nconst throttledSave = _.throttle(\n  () => save('feedback-form-state', feedbackFormState),\n  500\n);\n\nemailInput.addEventListener('input', event => {\n  feedbackFormState.email = event.target.value;\n  throttledSave();\n});\n\nmessageInput.addEventListener('input', event => {\n  feedbackFormState.message = event.target.value;\n  throttledSave();\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  console.log(feedbackFormState);\n\n  form.reset();\n  remove(LOCALSTORAGE_KEY);\n  resetFeedbackFormState();\n});\n\nfunction updateData() {\n  if (!load(LOCALSTORAGE_KEY)) {\n    resetInputValues();\n    resetFeedbackFormState();\n  } else {\n    const dataFromStorage = load(LOCALSTORAGE_KEY);\n    setInputsValues(dataFromStorage);\n    setFormStateValues(dataFromStorage);\n  }\n}\n\nfunction resetFeedbackFormState() {\n  feedbackFormState.email = '';\n  feedbackFormState.message = '';\n}\n\nfunction resetInputValues() {\n  emailInput.value = '';\n  messageInput.value = '';\n}\n\nfunction setInputsValues(data) {\n  emailInput.value = data.email;\n  messageInput.value = data.message;\n}\n\nfunction setFormStateValues(data) {\n  feedbackFormState.email = data.email;\n  feedbackFormState.message = data.message;\n}\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$LOCALSTORAGE_KEY","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$emailInput","getElementsByName","$b00c40859be242c5$var$messageInput","$b00c40859be242c5$var$feedbackFormState","email","message","$jzQFI","load","dataFromStorage","data","value","$b00c40859be242c5$var$setFormStateValues","$b00c40859be242c5$var$resetFeedbackFormState","$b00c40859be242c5$var$updateData","$b00c40859be242c5$var$throttledSave","$parcel$interopDefault","throttle","save","addEventListener","event","target","preventDefault","console","log","reset","remove"],"version":3,"file":"03-feedback.e75ed382.js.map"}