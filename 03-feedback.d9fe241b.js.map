{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,aAGMC,EAAmB,sBACnBC,EAAOC,SAASC,cAAc,kBAC9BC,EAAaF,SAASG,kBAAkB,SAAS,GACjDC,EAAeJ,SAASG,kBAAkB,WAAW,GAErDE,EAAoB,CACxBC,MAAO,GACPC,QAAS,KA4BX,WACE,IAAK,EAAAC,EAAAC,MAAKX,GAKH,CACL,IAAMY,GAAkB,EAAAF,EAAAC,MAAKX,GAC7BI,EAAWS,MAAQD,EAAgBJ,MACnCF,EAAaO,MAAQD,EAAgBH,QACrCF,EAAkBC,MAAQI,EAAgBJ,MAC1CD,EAAkBE,QAAUG,EAAgBH,aAT5CL,EAAWS,MAAQ,GACnBP,EAAaO,MAAQ,GACrBN,EAAkBC,MAAQ,GAC1BD,EAAkBE,QAAU,GA9BhCK,GAEA,IAAMC,EAAgBC,EAAAlB,GAAEmB,UACtB,W,OAAM,EAAAP,EAAAQ,MAAK,sBAAuBX,KAClC,KAGFH,EAAWe,iBAAiB,SAAS,SAAAC,GACnCb,EAAkBC,MAAQY,EAAMC,OAAOR,MACvCE,OAGFT,EAAaa,iBAAiB,SAAS,SAAAC,GACrCb,EAAkBE,QAAUW,EAAMC,OAAOR,MACzCE,OAGFd,EAAKkB,iBAAiB,UAAU,SAAAC,GAC9BA,EAAME,iBACNC,QAAQC,IAAIjB,GAEZN,EAAKwB,SACL,EAAAf,EAAAgB,QAAO1B,M","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\nimport { save, load, remove } from './storage';\n\nconst LOCALSTORAGE_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\nconst emailInput = document.getElementsByName('email')[0];\nconst messageInput = document.getElementsByName('message')[0];\n\nconst feedbackFormState = {\n  email: '',\n  message: '',\n};\n\nupdateData();\n\nconst throttledSave = _.throttle(\n  () => save('feedback-form-state', feedbackFormState),\n  500\n);\n\nemailInput.addEventListener('input', event => {\n  feedbackFormState.email = event.target.value;\n  throttledSave();\n});\n\nmessageInput.addEventListener('input', event => {\n  feedbackFormState.message = event.target.value;\n  throttledSave();\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  console.log(feedbackFormState);\n\n  form.reset();\n  remove(LOCALSTORAGE_KEY);\n});\n\nfunction updateData() {\n  if (!load(LOCALSTORAGE_KEY)) {\n    emailInput.value = '';\n    messageInput.value = '';\n    feedbackFormState.email = '';\n    feedbackFormState.message = '';\n  } else {\n    const dataFromStorage = load(LOCALSTORAGE_KEY);\n    emailInput.value = dataFromStorage.email;\n    messageInput.value = dataFromStorage.message;\n    feedbackFormState.email = dataFromStorage.email;\n    feedbackFormState.message = dataFromStorage.message;\n  }\n}\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$LOCALSTORAGE_KEY","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$emailInput","getElementsByName","$b00c40859be242c5$var$messageInput","$b00c40859be242c5$var$feedbackFormState","email","message","$jzQFI","load","dataFromStorage","value","$b00c40859be242c5$var$updateData","$b00c40859be242c5$var$throttledSave","$parcel$interopDefault","throttle","save","addEventListener","event","target","preventDefault","console","log","reset","remove"],"version":3,"file":"03-feedback.d9fe241b.js.map"}